# Задание 2 - Тест-кейсы для тестирования счётчиков для декстопной версии.

Тест-кейсы выполняются только для браузера `chromium`, потому что единовременно выполнять большое количество тестов не представляется возможным с ограничением запросов для конкретного IP. Для остальных браузером можно раскомментировать в playwright.config.ts.
Тест-кейсы написаны при условии, что логика для счетчиков сохраненного объема воды, предотвращенного объема выброса CO2, сэкономленной электроэнергии идентичная, поэтому чтобы оптимизировать количество тестов в одном тест-кейсе рассматривается все 3 счетчика.
Но в таких случаях нужно узнавать у разработчиков, как они реализовывали функционал.

## Тест-кейс 1: Отображение счётчиков эковклада у неавторизованного/авторизованого пользователя(со значениями 0)

**Шаги:**

1. Открыть декстопную версию страницы https://www.avito.ru/avito-care/eco-impact.
2. Проверить наличие 3 элементов со счетчиками: сохраненного объема воды, предотвращенного объема выброса CO2, сэкономленной электроэнергии.
3. Сделать скриншоты 3 элементов со счетчиками.
4. Закрыть страницу.

![testcase_1_screenshot_1](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_1_screenshot_1.png)
![testcase_1_screenshot_2](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_1_screenshot_2.png)
![testcase_1_screenshot_3](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_1_screenshot_3.png)

**Ожидаемый результат:**
- Все три счетчика отображаются на странице cо значением `0`
- Цвет шрифта `серый`
- Единицы измерения в счётчике:  
  - СО2 - `кг`  
  - воды - `л`  
  - энергии - `кВт⋅ч`
- Текст:
  - СО2 - `не попало в атмосферу`  
  - воды - `было сохранено`  
  - энергии - `было сэкономлено`

## Тест-кейс 2: Отображение счётчиков с невалидными значениями у авторизованого пользователя
> Бэкенд должен фильтровать невалидные значения, но как негативный тест-кейс можем рассмотреть не ломаются ли элементы. Логично бы было выводить значение 0 в таких случаях.
### Предусловие:
Авторизоваться под пользователем с эковкладом:
- СО2 = null
- энергии = "aBc%"
- воды = -1
> тут должны быть логин и пароль тестового пользователя

**Шаги:**

1. Открыть декстопную версию страницы https://www.avito.ru/avito-care/eco-impact.
2. Проверить наличие 3 счетчиков: сохраненного объема вода, предотвращенного объема выброса CO2, сэкономленной электроэнергии.
3. Сделать скриншоты 3 элементов со счетчиками.
4. Закрыть страницу.

![testcase_2_screenshot_1](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_2_screenshot_1.png)
![testcase_2_screenshot_2](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_2_screenshot_2.png)
![testcase_2_screenshot_3](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_2_screenshot_3.png)

**Ожидаемый результат:**

- Все три счетчика отображаются на странице cо значениями:
  - СО2 - `0`  
  - воды - `-1`  
  - энергии - `NaN`  
- Цвет шрифта `серый`
- Единицы измерения в счётчике:  
  - СО2 - `кг`  
  - воды - `л`  
  - энергии - `кВт⋅ч`
- Текст:
  - СО2 - `не попало в атмосферу`  
  - воды - `было сохранено`  
  - энергии - `было сэкономлено` 

## Тест-кейс 3: Преобразование единиц измерения в счётчиках у авторизованого пользователя

### Предусловие:
Авторизоваться под пользователем с эковкладом:
- СО2 = 1000
- энергии = 1000000
- воды = 1000000000
> тут должны быть логин и пароль тестового пользователя

**Шаги:**

1. Открыть декстопную версию страницы https://www.avito.ru/avito-care/eco-impact.
2. Проверить наличие 3 счетчиков: сохраненного объема вода, предотвращенного объема выброса CO2, сэкономленной электроэнергии.
3. Сделать скриншоты 3 элементов со счетчиками.
4. Закрыть страницу.

![testcase_3_screenshot_1](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_3_screenshot_1.png)
![testcase_3_screenshot_2](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_3_screenshot_2.png)
![testcase_3_screenshot_3](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_3_screenshot_3.png)

**Ожидаемый результат:**

- Все три счетчика отображаются на странице cо значениями:
  - СО2 - `1`  
  - воды - `1`  
  - энергии - `1`  
- Цвет шрифта `чёрный`
- Единицы измерения в счётчике:  
  - СО2 - `тонна`  
  - воды - `млн м^3`  
  - энергии - `тыс МВт/ч`
- Текст:
  - СО2 - `не попала в атмосферу`  
  - воды - `была сохранена`  
  - энергии - `был сэкономлен`

## Тест-кейс 4: Округление чисел в счётчиках

### Предусловие:
Авторизоваться под пользователем с эковкладом:
- СО2 = 0.15
- энергии = 1450
- воды = 9650
> тут должны быть логин и пароль тестового пользователя

**Шаги:**

1. Открыть декстопную версию страницы https://www.avito.ru/avito-care/eco-impact.
2. Проверить наличие 3 счетчиков: сохраненного объема вода, предотвращенного объема выброса CO2, сэкономленной электроэнергии.
3. Сделать скриншоты 3 элементов со счетчиками.
4. Закрыть страницу.

![testcase_4_screenshot_1](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_4_screenshot_1.png)
![testcase_4_screenshot_2](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_4_screenshot_2.png)
![testcase_4_screenshot_3](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_4_screenshot_3.png)

**Ожидаемый результат:**

- Все три счетчика отображаются на странице cо значениями:
  - СО2 - `0.2`
  - воды - `9.7`
  - энергии - `1.5`
- Цвет шрифта `чёрный`
- Единицы измерения в счётчике:  
  - СО2 - `кг`
  - воды - `м^3`
  - энергии - `МВт/ч`
- Текст:
  - СО2 - `не попало в атмосферу`  
  - воды - `было сохранено`  
  - энергии - `было сэкономлено`

## Тест-кейс 5: Отображение счётчиков с большими значениями у авторизованого пользователя

### Предусловие:
Авторизоваться под пользователем с эковкладом:
- СО2 = 5000000000000000
- энергии = 5000000000000000
- воды = 5000000000000000
> тут должны быть логин и пароль тестового пользователя

**Шаги:**

1. Открыть декстопную версию страницы https://www.avito.ru/avito-care/eco-impact.
2. Проверить наличие 3 счетчиков: сохраненного объема вода, предотвращенного объема выброса CO2, сэкономленной электроэнергии.
3. Сделать скриншоты 3 элементов со счетчиками.
4. Закрыть страницу.

![testcase_5_screenshot_1](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_5_screenshot_1.png)
![testcase_5_screenshot_2](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_5_screenshot_2.png)
![testcase_5_screenshot_3](https://github.com/angiebri/avito_test_qa/blob/main/output/testcase_5_screenshot_3.png)

**Ожидаемый результат:**

- Все три счетчика отображаются на странице cо значениями:
  - СО2 - `5`
  - воды - `5`
  - энергии - `5`
- Цвет шрифта `чёрный`
- Единицы измерения в счётчике:  
  - СО2 - `квад тонн`
  - воды - `квад м^3`
  - энергии - `квад МВт/ч`
- Текст:
  - СО2 - `не попало в атмосферу`  
  - воды - `было сохранено`  
  - энергии - `было сэкономлено`

